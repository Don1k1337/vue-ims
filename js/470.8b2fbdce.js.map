{"version":3,"file":"js/470.8b2fbdce.js","mappings":"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","sources":["webpack://vue-ims-app/./src/views/Request.vue","webpack://vue-ims-app/./src/views/Request.vue?7836"],"sourcesContent":["<template>\n  <div>\n    <app-loader v-if=\"loading\"/>\n    <app-page back title=\"Request\" v-else-if=\"request\">\n      <p><strong>Client name</strong>: {{ request.name }}</p>\n      <p><strong>Phone</strong>: {{ request.phone }}</p>\n      <p><strong>Amount</strong>: {{ currency(request.amount) }}</p>\n      <p><strong>Status</strong>: <app-status :type=\"request.status\"></app-status></p>\n      <div class=\"form-control\">\n        <label for=\"status\">Status</label>\n        <select id=\"status\" v-model=\"status\">\n          <option value=\"done\">Done</option>\n          <option value=\"cancelled\">Canceled</option>\n          <option value=\"active\">Active</option>\n          <option value=\"pending\">Pending</option>\n        </select>\n      </div>\n      <button class=\"btn danger\" @click=\"remove\">Delete</button>\n      <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Update</button>\n    </app-page>\n    <h3 v-else class=\"text-center text-white\">\n      Request with the ID = {{id}} not found\n    </h3>\n  </div>\n</template>\n\n<script>\nimport AppPage from \"../components/ui/AppPage.vue\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {ref, onMounted, computed} from 'vue';\nimport {useStore} from \"vuex\";\nimport AppStatus from \"../components/ui/AppStatus.vue\";\nimport AppLoader from \"../components/ui/AppLoader.vue\";\nimport {currency} from \"../utils/currency\";\n\nexport default {\n  setup() {\n    const loading = ref(true)\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const request = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadById', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      await router.push('/')\n    }\n    const update = async () => {\n      const data = {...request.value, status: status.value, id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n    return {\n      loading,\n      request,\n      id: route.params.id,\n      currency,\n      remove,\n      update,\n      status,\n      hasChanges\n    }\n  },\n  components: {AppPage, AppStatus, AppLoader}\n}\n</script>\n","import { render } from \"./Request.vue?vue&type=template&id=727be2aa\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/dominus/WebstormProjects/vue-ims/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createElementBlock","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","name","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_component_app_status","type","status","_hoisted_5","_hoisted_6","id","onClick","_hoisted_12","setup","loading","ref","route","useRoute","router","useRouter","store","useStore","request","onMounted","dispatch","params","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppStatus","AppLoader","__exports__","render"],"sourceRoot":""}